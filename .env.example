# ============================================
# Graph RAG 환경 설정
# ============================================
# 이 파일을 .env로 복사하고 값을 설정하세요.
# cp .env.example .env

# ============================================
# 애플리케이션 설정
# ============================================
APP_NAME=Graph RAG API
APP_VERSION=0.1.0
DEBUG=false
ENVIRONMENT=development  # development, staging, production, test
LOG_LEVEL=INFO

# ============================================
# Neo4j 설정
# ============================================
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=password123
NEO4J_DATABASE=neo4j
NEO4J_MAX_CONNECTION_POOL_SIZE=50
NEO4J_CONNECTION_TIMEOUT=30.0

# ============================================
# Azure OpenAI 설정 (모델 버전 비의존적)
# ============================================
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_API_KEY=your-api-key-here
AZURE_OPENAI_API_VERSION=2024-10-21

# 배포 이름 (Azure Portal에서 설정한 배포 이름)
# 옵션 1: GPT-3.5 + GPT-4 조합
# LIGHT_MODEL_DEPLOYMENT=gpt-35-turbo-deploy
# HEAVY_MODEL_DEPLOYMENT=gpt-4-deploy

# 옵션 2: GPT-4o-mini + GPT-4o 조합 (권장)
LIGHT_MODEL_DEPLOYMENT=gpt-4o-mini
HEAVY_MODEL_DEPLOYMENT=gpt-4o

# 옵션 3: 최신 GPT-5.x 조합
# LIGHT_MODEL_DEPLOYMENT=gpt-5-mini-deploy
# HEAVY_MODEL_DEPLOYMENT=gpt-5-2-deploy

# LLM 파라미터
LLM_TEMPERATURE=0.0
LLM_MAX_TOKENS=2000

# ============================================
# Azure OpenAI Embedding 설정
# ============================================
# Azure Portal에서 배포한 embedding 모델 배포명
# 옵션: text-embedding-ada-002, text-embedding-3-small, text-embedding-3-large
EMBEDDING_MODEL_DEPLOYMENT=text-embedding-3-small
EMBEDDING_DIMENSIONS=1536

# ============================================
# Vector Search 설정
# ============================================
# Vector Search 기능 활성화 (질문-Cypher 캐싱)
VECTOR_SEARCH_ENABLED=true
# 유사 질문 매칭 임계값 (0.0~1.0, 높을수록 엄격)
VECTOR_SIMILARITY_THRESHOLD=0.85
# 질문-Cypher 캐시 TTL (시간)
QUERY_CACHE_TTL_HOURS=24

# ============================================
# 온톨로지 설정
# ============================================
# 온톨로지 로더 모드 (yaml, neo4j, hybrid)
ONTOLOGY_MODE=yaml

# 채팅에서 온톨로지 추가 요청 시 자동 승인 여부
CHAT_AUTO_APPROVE_ENABLED=true
# 채팅 자동 승인 최소 신뢰도 (0.0~1.0)
CHAT_AUTO_APPROVE_THRESHOLD=0.9

# ============================================
# Authentication & Authorization 설정
# ============================================
# 인증/인가 활성화 (false면 모든 API 공개)
AUTH_ENABLED=false
# JWT 서명 키 (프로덕션에서는 반드시 강력한 키로 변경)
JWT_SECRET_KEY=dev-insecure-secret-key-change-in-production
# JWT 액세스 토큰 만료 시간 (분)
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60
# JWT 리프레시 토큰 만료 시간 (일)
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7
# 그래프 편집 시 인증 필수 여부
GRAPH_EDIT_REQUIRE_AUTH=true

# ============================================
# 캐시 설정
# ============================================
CACHE_ENABLED=true
CACHE_TTL_SECONDS=3600
CACHE_MAX_SIZE=1000
VITE_API_BASE_URL=http://localhost:8000/api/v1
